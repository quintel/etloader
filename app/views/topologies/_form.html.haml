- if @topology.errors.any?
  %ul.errors
    - @topology.errors.full_messages.uniq.each do |message|
      %li= message

= form_for @topology, html: { multipart: true } do |form|
  .form-group
    = form.label :name
    = form.text_field :name, class: 'form-control'
    .help-block This field is optional.

  .form-group
    = form.label :public, "Permissions"

    .radio-buttons
      = form.radio_button :public, true
      = form.label :public, "Public", class: "radio-label"
      = form.radio_button :public, false
      = form.label :public, "Private", class: "radio-label"

    = tooltip_tag('You can choose to make your Topology private or public. A private Topology can be viewed only by you. A public Topology can be viewed by anyone but only edited by you.')

  .form-group
    = form.label :graph
    = tooltip_tag('Here you can specify the structure, capacity and cost parameters of your network topology. Please refer to the [topology syntax page](https://github.com/quintel/documentation/blob/master/general/topology_syntax.md) for details.')
    = form.text_area :graph, value: topology_field_value(@topology)

  .form-group
    = form.submit class: 'btn btn-primary'
    %span.or or
    - if @topology.new_record?
      = link_to 'Cancel', topologies_path, class: 'btn btn-default'
    - else
      = link_to 'Cancel', topology_path(@topology), class: 'btn btn-default'
